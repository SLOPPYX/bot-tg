<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç –¢–µ—Å—Ç –º–∞–≥–∞–∑–∏–Ω–∞</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .box {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 { color: #333; margin-bottom: 10px; }
        .param {
            padding: 15px;
            margin: 10px 0;
            background: #f5f5f5;
            border-left: 4px solid #667eea;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .param strong { color: #667eea; }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            font-size: 16px;
        }
        .ok { background: #4caf50; color: white; }
        .error { background: #f44336; color: white; }
        .warning { background: #ff9800; color: white; }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
        }
        button:hover { background: #764ba2; transform: translateY(-2px); }
        .url-display {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="box">
        <h1>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h1>
        <p style="color: #666; margin-top: 10px;">–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ—Ç –ø–µ—Ä–µ–¥–∞–ª –≤ –º–∞–≥–∞–∑–∏–Ω</p>
    </div>

    <div class="box">
        <h2 style="margin-bottom: 15px;">üì° –¢–µ–∫—É—â–∏–π URL:</h2>
        <div class="url-display" id="currentUrl"></div>
    </div>

    <div class="box">
        <h2 style="margin-bottom: 15px;">üìä –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</h2>
        <div id="paramsDisplay"></div>
    </div>

    <div class="box">
        <h2 style="margin-bottom: 15px;">‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:</h2>
        <div id="statusDisplay"></div>
    </div>

    <div class="box">
        <h2 style="margin-bottom: 15px;">üõ†Ô∏è –î–µ–π—Å—Ç–≤–∏—è:</h2>
        <button onclick="goToShop()">üõçÔ∏è –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω (—Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)</button>
        <button onclick="testWithParams()" style="background: #4caf50; margin-top: 10px;">
            üß™ –¢–µ—Å—Ç —Å –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
        </button>
    </div>

    <script>
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π URL
        document.getElementById('currentUrl').textContent = window.location.href;

        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        const params = new URLSearchParams(window.location.search);
        const userId = params.get('user_id');
        const customId = params.get('custom_id');
        const tokens = params.get('tokens');
        const lang = params.get('lang');

        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        const paramsDiv = document.getElementById('paramsDisplay');
        
        if (!userId && !customId && !tokens) {
            paramsDiv.innerHTML = `
                <div class="param" style="border-left-color: #f44336;">
                    <strong>‚ùå –ü–ê–†–ê–ú–ï–¢–†–´ –ù–ï –ü–û–õ–£–ß–ï–ù–´</strong><br>
                    –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±–æ—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ URL
                </div>
                <div class="param" style="border-left-color: #ff9800;">
                    <strong>üí° –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:</strong><br>
                    1. –¢—ã –æ—Ç–∫—Ä—ã–ª —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–Ω–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞)<br>
                    2. –í –±–æ—Ç–µ –Ω–µ –∑–∞–º–µ–Ω—ë–Ω URL –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É<br>
                    3. –°–∞–π—Ç –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
                </div>
            `;
        } else {
            paramsDiv.innerHTML = `
                <div class="param">
                    <strong>user_id:</strong> ${userId || '‚ùå –Ω–µ –ø–æ–ª—É—á–µ–Ω'}
                </div>
                <div class="param">
                    <strong>custom_id:</strong> ${customId || '‚ùå –Ω–µ –ø–æ–ª—É—á–µ–Ω'}
                </div>
                <div class="param">
                    <strong>tokens:</strong> ${tokens || '‚ùå –Ω–µ –ø–æ–ª—É—á–µ–Ω'}
                </div>
                <div class="param">
                    <strong>lang:</strong> ${lang || '–Ω–µ —É–∫–∞–∑–∞–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ru)'}
                </div>
            `;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
        const statusDiv = document.getElementById('statusDisplay');
        let statusHTML = '';
        let allOk = true;

        if (!userId) {
            statusHTML += '<div class="status error">‚ùå user_id –ù–ï –ü–û–õ–£–ß–ï–ù</div>';
            allOk = false;
        } else {
            statusHTML += `<div class="status ok">‚úÖ user_id: ${userId}</div>`;
        }

        if (!customId) {
            statusHTML += '<div class="status error">‚ùå custom_id –ù–ï –ü–û–õ–£–ß–ï–ù</div>';
            allOk = false;
        } else {
            statusHTML += `<div class="status ok">‚úÖ custom_id: ${customId}</div>`;
        }

        if (!tokens) {
            statusHTML += '<div class="status error">‚ùå tokens –ù–ï –ü–û–õ–£–ß–ï–ù</div>';
            allOk = false;
        } else {
            statusHTML += `<div class="status ok">‚úÖ tokens: ${tokens}</div>`;
        }

        if (allOk) {
            statusHTML += `
                <div class="status ok" style="margin-top: 20px; font-size: 18px;">
                    üéâ –í–°–Å –û–¢–õ–ò–ß–ù–û! –í–°–ï –ü–ê–†–ê–ú–ï–¢–†–´ –ü–û–õ–£–ß–ï–ù–´!<br>
                    <span style="font-size: 14px; opacity: 0.9;">–ú–∞–≥–∞–∑–∏–Ω –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                </div>
            `;
        } else {
            statusHTML += `
                <div class="status warning" style="margin-top: 20px;">
                    ‚ö†Ô∏è –ï–°–¢–¨ –ü–†–û–ë–õ–ï–ú–´!<br>
                    <span style="font-size: 14px;">–°–º–æ—Ç—Ä–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –Ω–∏–∂–µ</span>
                </div>
            `;
        }

        statusDiv.innerHTML = statusHTML;

        // –§—É–Ω–∫—Ü–∏–∏
        function goToShop() {
            window.location.href = 'shop.html' + window.location.search;
        }

        function testWithParams() {
            window.location.href = 'test.html?user_id=987654321&custom_id=123456&tokens=25000&lang=ru';
        }

        // –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å
        console.log('üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ú–ê–ì–ê–ó–ò–ù–ê');
        console.log('URL:', window.location.href);
        console.log('user_id:', userId);
        console.log('custom_id:', customId);
        console.log('tokens:', tokens);
        console.log('lang:', lang);
    </script>
</body>
</html>
