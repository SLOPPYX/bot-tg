<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        .header {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .balance {
            font-size: 22px;
            font-weight: bold;
            color: #667eea;
        }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
        }
        .tab {
            flex: 1;
            padding: 12px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s;
        }
        .tab.active {
            background: #667eea;
            color: white;
        }
        .products {
            display: grid;
            gap: 12px;
        }
        .product {
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        .product.rich {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .product.rich .product-title,
        .product.rich .product-price {
            color: white;
        }
        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: #ffd700;
            color: #333;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
            margin-bottom: 6px;
        }
        .product-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .product-price {
            font-size: 20px;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .buy-btn {
            width: 100%;
            padding: 10px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .product.rich .buy-btn {
            background: white;
            color: #f5576c;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>üÜî <span id="user-id">-</span></div>
            <div class="balance">üí∞ <span id="balance">0</span> ‚ÇΩ</div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="showTab('regular')">üõçÔ∏è –û–±—ã—á–Ω—ã–µ</div>
            <div class="tab" onclick="showTab('rich')">üíé Rich</div>
        </div>

        <div class="products" id="regular-products">
            <div class="product">
                <div class="product-title">üìÅ –§–∞–π–ª 90 FPS</div>
                <div class="product-price">1,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–§–∞–π–ª 90 FPS', 1000)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product">
                <div class="product-title">üíª –ú–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –ü–ö</div>
                <div class="product-price">1,240 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–ú–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –ü–ö', 1240)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product">
                <div class="product-title">üéØ –°–ø–æ—Å–æ–± –ø–ª–∞–≤–Ω–æ–π —Å–µ–Ω—Å—ã –ü–ö</div>
                <div class="product-price">1,100 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–°–ø–æ—Å–æ–± –ø–ª–∞–≤–Ω–æ–π —Å–µ–Ω—Å—ã –ü–ö', 1100)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product">
                <div class="product-title">üì± –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
                <div class="product-price">1,450 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞', 1450)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product">
                <div class="product-title">üéÆ –†–µ–≥–µ–¥–∏—Ç—ã –¥–ª—è —Å–µ–Ω—Å—ã</div>
                <div class="product-price">600 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–†–µ–≥–µ–¥–∏—Ç—ã –¥–ª—è —Å–µ–Ω—Å—ã', 600)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product">
                <div class="product-title">üì≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ –∏–¥–µ–∞–ª–∞</div>
                <div class="product-price">1,400 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ –∏–¥–µ–∞–ª–∞', 1400)">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>

        <div class="products hidden" id="rich-products">
            <div class="product rich">
                <div class="badge">‚≠ê VIP</div>
                <div class="product-title">üíé VIP –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Pro Pack</div>
                <div class="product-price">5,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('VIP –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Pro Pack', 5000)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product rich">
                <div class="badge">‚≠ê –¢–û–ü</div>
                <div class="product-title">üî• –ü—Ä–µ–º–∏—É–º –ø–∞–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤</div>
                <div class="product-price">10,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–ü—Ä–µ–º–∏—É–º –ø–∞–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤', 10000)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product rich">
                <div class="badge">‚≠ê –ù–û–í–ò–ù–ö–ê</div>
                <div class="product-title">‚ö° –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ä–µ–≥–µ–¥–∏—Ç—ã Pro</div>
                <div class="product-price">7,500 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ä–µ–≥–µ–¥–∏—Ç—ã Pro', 7500)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product rich">
                <div class="badge">‚≠ê –•–ò–¢</div>
                <div class="product-title">üéØ Ultimate —Å–µ–Ω—Å–∞ –ø–∞–∫</div>
                <div class="product-price">8,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('Ultimate —Å–µ–Ω—Å–∞ –ø–∞–∫', 8000)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product rich">
                <div class="badge">‚≠ê –≠–ö–°–ö–õ–Æ–ó–ò–í</div>
                <div class="product-title">üëë –ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –Ω–∞–±–æ—Ä</div>
                <div class="product-price">15,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –Ω–∞–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫', 15000)">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="product rich">
                <div class="badge">‚≠ê PRO</div>
                <div class="product-title">üí´ Mega Pro Collection</div>
                <div class="product-price">20,000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="buyItem('Mega Pro Collection', 20000)">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('user_id');
        const customId = urlParams.get('custom_id');
        const tokens = parseInt(urlParams.get('tokens')) || 0;

        document.getElementById('user-id').textContent = customId || userId;
        document.getElementById('balance').textContent = tokens.toLocaleString();

        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            if (tab === 'regular') {
                document.querySelectorAll('.tab')[0].classList.add('active');
                document.getElementById('regular-products').classList.remove('hidden');
                document.getElementById('rich-products').classList.add('hidden');
            } else {
                document.querySelectorAll('.tab')[1].classList.add('active');
                document.getElementById('regular-products').classList.add('hidden');
                document.getElementById('rich-products').classList.remove('hidden');
            }
        }

        function buyItem(title, price) {
            if (tokens < price) {
                tg.showAlert(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤! –£ –≤–∞—Å: ${tokens.toLocaleString()}, –Ω—É–∂–Ω–æ: ${price.toLocaleString()}`);
                return;
            }
            tg.sendData(JSON.stringify({action: 'purchase', item: title, price: price, user_id: userId}));
            tg.close();
        }

        tg.BackButton.show();
        tg.BackButton.onClick(() => tg.close());
    </script>
</body>
</html>
